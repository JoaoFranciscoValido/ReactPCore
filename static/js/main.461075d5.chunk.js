(this["webpackJsonppcore-react"]=this["webpackJsonppcore-react"]||[]).push([[0],{17:function(e,t,n){"use strict";n.r(t);var o=n(2),r=n.n(o),s=n(9),a=n.n(s),c=n(1),i=n.n(c),d=n(4),u=n(5),l=n(7),j=n(6),p=n(3),b=n(0);function h(){return Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Nome do Componente"}),Object(b.jsx)("th",{children:"Foto do Componente"}),Object(b.jsx)("th",{children:"Descri\xe7\xe3o "}),Object(b.jsx)("th",{children:"Pre\xe7o "}),Object(b.jsx)("th",{children:"Stock "})]})})}var m=function(e){var t=e.dadosDosComponentes.map((function(t){return Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),t.nome]}),Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:"fotos/"+t.foto,alt:"foto do "+t.nome,height:"150",width:"120"})}),Object(b.jsxs)("td",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),t.descricao]}),Object(b.jsxs)("td",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),t.preco]}),Object(b.jsxs)("td",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),t.stock]}),Object(b.jsxs)("td",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]}),Object(b.jsxs)("td",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"btn btn-secondary",onClick:function(){return e.componenteAremover(t)},children:"Delete"})]})]},t.idComponentes)}));return Object(b.jsx)("tbody",{children:t})},x=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.inDadosComponentes,n=e.componentes;return Object(b.jsxs)("table",{className:"table table-striped",children:[Object(b.jsx)(h,{}),Object(b.jsx)(m,{dadosDosComponentes:t,componenteAremover:n})]})}}]),n}(r.a.Component),O=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var o;return Object(d.a)(this,n),(o=t.call(this,e)).handlerComponenteChange=function(e){/\d/.test(e.target.value)?e.target.setCustomValidity("Nome do Componente Inv\xe1lido"):(e.target.setCustomValidity(""),o.setState({nome:e.target.value}))},o.handlerDescricaoChange=function(e){o.setState({descricao:e.target.value})},o.handlerPrecoChange=function(e){o.setState({preco:e.target.value})},o.handlerStockChange=function(e){o.setState({stock:e.target.value})},o.handlerFotoChange=function(e){o.setState({foto:e.target.files[0]})},o.handlerSubmitForm=function(e){e.preventDefault();var t={Nome:o.state.nome,UpFotografia:o.state.foto,Descricao:o.state.descricao,Preco:o.state.preco,Stock:o.state.stock};o.props.outDadosFotos(t)},o.state={nome:"",foto:null,descricao:"",preco:"",stock:""},o}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("form",{onSubmit:this.handlerSubmitForm,encType:"multipart/form-data",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-md-4",children:["Nome do Componente: ",Object(b.jsx)("input",{type:"text",value:this.state.nome,onChange:this.handlerComponenteChange,className:"form-control btn btn-outline-secondary"}),Object(b.jsx)("br",{})]}),Object(b.jsxs)("div",{className:"col-md-4",children:["Foto do Componente: ",Object(b.jsx)("input",{type:"file",required:!0,accept:".jpg,.png,.JPG,.PNG",onChange:this.handlerFotoChange,className:"form-control"}),Object(b.jsx)("br",{})]}),Object(b.jsxs)("div",{className:"col-md-4",children:["Descri\xe7\xe3o: ",Object(b.jsx)("input",{type:"text",value:this.state.descricao,onChange:this.handlerDescricaoChange,className:"form-control btn btn-outline-secondary"}),Object(b.jsx)("br",{})]}),Object(b.jsxs)("div",{className:"col-md-4",children:["Pre\xe7o: ",Object(b.jsx)("input",{type:"text",value:this.state.preco,onChange:this.handlerPrecoChange,className:"form-control btn btn-outline-secondary"}),Object(b.jsx)("br",{})]}),Object(b.jsxs)("div",{className:"col-md-4",children:["Stock: ",Object(b.jsx)("input",{type:"text",value:this.state.stock,onChange:this.handlerStockChange,className:"form-control btn btn-outline-secondary"}),Object(b.jsx)("br",{})]})]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"submit",value:"Adicionar Componente",className:"btn btn-secondary"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{})]})}}]),n}(r.a.Component);function f(){return v.apply(this,arguments)}function v(){return(v=Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/ComponentesAPI/");case 2:return(t=e.sent).ok||console.error("N\xe3o conseguimos ler os dados da API. C\xf3digo: "+t.status),e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(i.a.mark((function e(t){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("Nome",t.Nome),n.append("UpFotografia",t.UpFotografia),n.append("Descricao",t.Descricao),n.append("Preco",t.Preco),n.append("Stock",t.Stock),e.next=8,fetch("api/ComponentesAPI",{method:"POST",body:n});case 8:if((o=e.sent).ok){e.next=12;break}throw console.error(o),new Error("N\xe3o foi poss\xedvel enviar os dados do novo Componente. C\xf3digo= "+o.status);case 12:return e.next=14,o.json();case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return y.apply(this,arguments)}function y(){return(y=Object(p.a)(i.a.mark((function e(t){var n,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("idComponentes",t.idComponentes),e.next=4,fetch("api/ComponentesAPI/"+t.idComponentes,{method:"DELETE",body:n});case 4:if((o=e.sent).ok){e.next=8;break}throw console.error(o),new Error("N\xe3o foi poss\xedvel enviar os dados do novo Componente. C\xf3digo= "+o.status);case 8:return e.next=10,o.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var o;return Object(d.a)(this,n),(o=t.call(this,e)).handlerremovecomponente=function(){var e=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:return e.next=5,o.Loadcomponentes();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o.setState({errorMessage:e.t0.toString()}),console.error("Erro ao submeter os dados do novo componentes; ",e.t0);case 11:window.location.reload();case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),o.handlerDadosForm=function(){var e=Object(p.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t);case 3:return e.next=5,o.Loadcomponentes();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o.setState({errorMessage:e.t0.toString()}),console.error("Erro ao submeter os dados do novo Componente; ",e.t0);case 11:window.location.reload();case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),o.state={componentes:[],loadState:"",errorMessage:null},o}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.Loadcomponentes()}},{key:"Loadcomponentes",value:function(){var e=Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loadState:"carregando dados"}),e.next=4,f();case 4:t=e.sent,this.setState({componentes:t,loadState:"sucesso"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({loadState:"erro",errorMessage:e.t0.toString()}),console.error("Erro na leitura dos componentes da API",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.state.componentes;switch(this.state.loadState){case"carregando dados":return Object(b.jsx)("p",{children:"A carregar os dados. Aguarde, por favor."});case"erro":return Object(b.jsxs)("p",{children:["Ocorreu um erro: ",null!==(e=this.state.errorMessage+".")&&void 0!==e?e:"N\xe3o sabemos qual"]});case"sucesso":return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"Fotografias dos Componentes"}),Object(b.jsx)(O,{inDadosComponentes:t,outDadosFotos:this.handlerDadosForm}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-md-20",children:[Object(b.jsx)("hr",{}),Object(b.jsx)("h4",{children:"Tabela com os Componentes"}),Object(b.jsx)(x,{inDadosComponentes:t,componentes:this.handlerremovecomponente})]})})]});default:return null}}}]),n}(r.a.Component);n(16);a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.461075d5.chunk.js.map